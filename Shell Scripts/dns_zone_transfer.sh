#!/bin/bash

# This bash script performs a basic Zone transfer from the specified domain name.

if [ -z "$1" ]; then
  echo "Attempts a Zone transfer from the specified domain name"
  echo "Usage : $0 <domain name> "
  exit 0
fi

for server in $(host -t ns $1 | cut -d " " -f4); do
  # Try a Zone transfer from all available hosts.
  host -l $1 $server |grep "has address"
done